# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ–¥–æ–±—Ä—è—Ç—å –∏—Å—Ç–æ—Ä–∏–∏. –≠—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ.

## –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Environment Variable (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ `.env.local` —Ñ–∞–π–ª
2. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –≤–∞—à–∏–º User ID –∏–∑ Clerk:
   ```bash
   ADMIN_USER_IDS=user_xxxxxxxxxxxxxxxxxxxxx
   ```
   
   –ï—Å–ª–∏ –∞–¥–º–∏–Ω–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ, —É–∫–∞–∂–∏—Ç–µ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é:
   ```bash
   ADMIN_USER_IDS=user_123456,user_789012,user_345678
   ```

3. –ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ–π User ID:
   - –ó–∞–π–¥–∏—Ç–µ –≤ [Clerk Dashboard](https://dashboard.clerk.com)
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Users"
   - –ù–∞–π–¥–∏—Ç–µ —Å–µ–±—è –≤ —Å–ø–∏—Å–∫–µ
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ User ID (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `user_`)

4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä:
   ```bash
   npm run dev
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Clerk Metadata (–±–æ–ª–µ–µ –≥–∏–±–∫–∏–π)

1. –í Clerk Dashboard –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Metadata"
3. –î–æ–±–∞–≤—å—Ç–µ –≤ `publicMetadata`:
   ```json
   {
     "isAdmin": true
   }
   ```

4. –û–±–Ω–æ–≤–∏—Ç–µ `lib/admin.ts` —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å `user.publicMetadata.isAdmin`

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/admin/stories`
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–¥–æ–±—Ä–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
3. –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
   - ‚úÖ –í—ã —Å–º–æ–∂–µ—Ç–µ –æ–¥–æ–±—Ä—è—Ç—å –∏—Å—Ç–æ—Ä–∏–∏
   - ‚úÖ –î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –æ—à–∏–±–∫—É "Forbidden - Admin access required"

## –í–∞–∂–Ω–æ!

‚ö†Ô∏è **–í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `ADMIN_USER_IDS`** —á—Ç–æ–±—ã –Ω–µ –≤—Å–µ –º–æ–≥–ª–∏ –æ–¥–æ–±—Ä—è—Ç—å –∏—Å—Ç–æ—Ä–∏–∏!

